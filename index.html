<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Visionary Youth Group 2024 — Home</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

  <style>
    *{box-sizing:border-box;scroll-behavior:smooth;margin:0;padding:0}
    body{font-family:'Poppins',sans-serif;background:#f8f9fa;color:#222;line-height:1.5}
    .topbar{background:#004d26;color:#fff;padding:6px 18px;font-size:14px;display:flex;justify-content:space-between;align-items:center}
    .topbar .left {display:flex;gap:14px;align-items:center}
    .topbar a{color:#fff;text-decoration:none;margin-left:10px}
    .topbar a:hover{color:#ffcc00}
    nav{background:#fff;padding:14px 28px;position:sticky;top:0;z-index:30;box-shadow:0 2px 6px rgba(0,0,0,.08);display:flex;justify-content:space-between;align-items:center}
    nav h1{color:#004d26;font-size:22px}
    nav ul{list-style:none;display:flex;gap:18px;align-items:center}
    nav a{color:#222;text-decoration:none;font-weight:600}
    nav li{position:relative}
    nav li ul{position:absolute;top:36px;left:0;display:none;background:#fff;padding:8px;border-radius:6px;box-shadow:0 6px 14px rgba(0,0,0,.08)}
    nav li:hover ul{display:block}
    nav li ul li{white-space:nowrap;padding:6px 10px}
    .hero{position:relative;height:520px;overflow:hidden}
    .hero img{position:absolute;left:0;top:0;width:100%;height:520px;object-fit:cover;opacity:0;animation:fade 18s infinite}
    .hero img:nth-child(1){animation-delay:0s}
    .hero img:nth-child(2){animation-delay:6s}
    .hero img:nth-child(3){animation-delay:12s}
    @keyframes fade{0%,15%{opacity:1}25%,100%{opacity:0}}
    .hero .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.45));display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;text-align:center;padding:0 20px}
    .hero h1{font-size:40px;margin-bottom:12px}
    .hero p{font-size:18px;margin-bottom:18px}
    .hero .cta{display:inline-block;background:#ffcc00;color:#00371a;padding:12px 20px;border-radius:8px;text-decoration:none;font-weight:700}
    .hero .cta.secondary{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.25);margin-left:10px}
    .container{width:92%;max-width:1200px;margin:34px auto}
    section{background:#fff;border-radius:10px;padding:28px;box-shadow:0 6px 20px rgba(7,13,21,.04);margin-bottom:26px}
    h2{color:#004d26;text-align:center;margin-bottom:14px;font-size:28px}
    .grid{display:grid;gap:18px}
    .grid-3{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .card{background:#fbfbfb;padding:18px;border-radius:10px;text-align:center;transition:transform .18s,box-shadow .18s}
    .card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(7,13,21,.06)}
    .card i{font-size:34px;color:#ffcc00;margin-bottom:12px}
    .muted{color:#666;font-size:15px}
    .banner{background:#004d26;color:#fff;padding:14px;border-radius:8px;text-align:center;font-weight:700;margin:12px auto}
    #auth .intro{text-align:center;margin-bottom:18px}
    .forms{display:grid;grid-template-columns:1fr 1fr;gap:22px}
    .form-box{background:#fbfbfb;padding:18px;border-radius:10px}
    .form-box h3{color:#004d26;margin-bottom:12px}
    .form-box input{width:100%;padding:12px;margin:8px 0;border:1px solid #ddd;border-radius:8px}
    .btn{display:inline-block;background:#004d26;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;font-weight:700;border:none;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid #004d26;color:#004d26}
    .member-preview{background:#f7fff7;border-left:4px solid #009a44;padding:14px;border-radius:8px;margin-top:10px}
    .small-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-top:12px}
    .small-row button{padding:8px 12px;border-radius:8px;border:1px solid #ccc;background:#fff;cursor:pointer}
    .small-note{font-size:13px;color:#666}
    .testimonial{background:#fbfbfb;padding:16px;border-radius:10px}
    .gallery img{width:100%;height:180px;object-fit:cover;border-radius:10px}
    footer{background:#004d26;color:#fff;padding:24px;text-align:center}
    footer a{color:#ffcc00;text-decoration:none;margin:0 10px}
    @media (max-width:880px){
      .forms{grid-template-columns:1fr}
      .hero h1{font-size:30px}
      .hero img{height:360px}
      .hero{height:360px}
    }
  </style>
</head>
<body>

  <div class="topbar">
    <div class="left"><i class="fas fa-phone"></i> +254 741 453336 <span style="opacity:.6">|</span> <i class="fas fa-envelope"></i> visionaryyouthgroup32@gmail.com</div>
    <div class="right">
      <a href="#"><i class="fab fa-facebook"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
    </div>
  </div>

  <nav>
    <h1>Visionary Youth Group</h1>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#benefits">Membership</a></li>
      <li><a href="#news">News</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="portal.html">New Online Portal</a></li>
    </ul>
  </nav>

  <div class="hero">
    <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=1600&auto=format&fit=crop" alt="">
    <img src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=1600&auto=format&fit=crop" alt="">
    <img src="https://images.unsplash.com/photo-1605902711622-cfb43c4437b5?q=80&w=1600&auto=format&fit=crop" alt="">
    <div class="overlay">
      <h1>Empowering youth through savings, investments & skills</h1>
      <p>Join Visionary Youth Group — build financial independence with peers</p>
      <a class="cta" href="#auth">Join Community</a>
      <a class="cta secondary" href="portal.html">New Online Portal</a>
    </div>
  </div>

  <main class="container">

    <!-- About -->
    <section id="about" data-aos="fade-up">
      <h2>About Us</h2>
      <p class="muted">Visionary Youth Group is a youth-led financial empowerment movement focused on savings, affordable loans, mentorship, and community development. We support members to start and grow businesses, plan for education, and invest smartly.</p>
    </section>

    <!-- Vision & Mission -->
    <section id="vision" data-aos="fade-up">
      <h2>Vision & Mission</h2>
      <div class="grid grid-3">
        <div class="card"><i class="fas fa-eye"></i><h3>Vision</h3><p>To be the leading youth financial group fostering literacy, growth and independence.</p></div>
        <div class="card"><i class="fas fa-bullseye"></i><h3>Mission</h3><p>To empower youth through savings, affordable loans, mentorship, and investment opportunities.</p></div>
        <div class="card"><i class="fas fa-hands-helping"></i><h3>Values</h3><p>Integrity · Unity · Transparency · Commitment</p></div>
      </div>
    </section>

    <!-- Programs -->
    <section id="programs" data-aos="fade-up">
      <h2>Programs</h2>
      <div class="grid grid-3">
        <div class="card"><i class="fas fa-wallet"></i><h3>Savings Plans</h3><p>Start from Ksh 500/month — emergency, education and investment plans.</p></div>
        <div class="card"><i class="fas fa-hand-holding-usd"></i><h3>Loans</h3><p>Affordable micro and business loans with transparent repayment plans.</p></div>
        <div class="card"><i class="fas fa-users"></i><h3>Mentorship</h3><p>Structured peer and professional mentorship, workshops, and networking.</p></div>
      </div>
    </section>

    <!-- Membership Benefits -->
    <section id="benefits" data-aos="fade-up">
      <h2>Member Benefits</h2>
      <div class="grid grid-3">
        <div class="card"><i class="fas fa-piggy-bank"></i><h3>Financial Security</h3><p>Access group investments and steady savings returns.</p></div>
        <div class="card"><i class="fas fa-briefcase"></i><h3>Business Support</h3><p>Loans, advisory, and partner networks to scale ventures.</p></div>
        <div class="card"><i class="fas fa-graduation-cap"></i><h3>Skill Building</h3><p>Workshops and trainings that enhance personal and business skills.</p></div>
      </div>
    </section>

    <!-- Paybill Banner -->
    <div class="banner" data-aos="fade-up">
      <i class="fas fa-university"></i> Paybill <strong>247247</strong> — Account: <strong>1290186343975</strong>
      <div style="margin-top:8px">
        <button onclick="copyPaybill()" class="btn" style="background:#fff;color:#004d26;border:none;padding:8px 12px;border-radius:6px">Copy Paybill</button>
        <span class="small-note" style="margin-left:10px;color:#fff;opacity:.9">Use this when making contributions via Equity</span>
      </div>
    </div>

    <!-- News / Announcements -->
    <section id="news" data-aos="fade-up">
      <h2>Latest News & Events</h2>
      <div class="grid grid-3">
        <div class="card"><i class="fas fa-newspaper"></i><h3>Annual Report 2024</h3><p>Read our impact and financial report for the year 2024.</p></div>
        <div class="card"><i class="fas fa-calendar"></i><h3>Upcoming AGM</h3><p>Members meet to review strategies — attendance is encouraged. Date: 14 Dec 2025</p></div>
        <div class="card"><i class="fas fa-bullhorn"></i><h3>Share Issue</h3><p>New share issuance for members — payout expected in March 2026.</p></div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" data-aos="fade-up">
      <h2>FAQ</h2>
      <p><b>How do I join?</b> Click Join Community and fill the membership form below.</p>
      <p><b>Minimum contribution?</b> Ksh 500 monthly.</p>
      <p><b>How to track balance?</b> After login you can view balances or download statements under 'Member Preview'.</p>
      <p><b>Loans?</b> Yes — subject to approval and repayment terms.</p>
    </section>

    <!-- Join / Auth -->
    <section id="auth" data-aos="fade-up">
      <div class="intro">
        <h2>Join Our Community</h2>
        <p class="muted">Membership gives access to savings plans, loans, mentorship programs, and exclusive member opportunities.</p>
      </div>

      <div class="forms">
        <!-- Sign up -->
        <div class="form-box">
          <h3>Sign Up</h3>
          <input id="signupName" placeholder="Full name" />
          <input id="signupPhone" placeholder="Phone number (+254...)" />
          <input id="signupId" placeholder="ID / Passport number" />
          <input id="signupOrigin" placeholder="Place of Origin" />
          <input id="signupEmail" placeholder="Email address" />
          <input id="signupPassword" placeholder="Password" type="password" />
          <div style="margin-top:8px">
            <button id="signupBtn" class="btn">Create Account</button>
            <button id="signupDemoBtn" class="btn ghost" onclick="fillDemoSignup()">Fill demo</button>
          </div>
          <p class="small-note" style="margin-top:10px">By signing up you agree to our <a href="#" style="color:#004d26;text-decoration:underline">Terms</a>.</p>
        </div>

        <!-- Login & Member preview -->
        <div class="form-box">
          <h3>Member Login</h3>
          <input id="loginEmail" placeholder="Email address" />
          <input id="loginPassword" placeholder="Password" type="password" />
          <div style="margin-top:8px">
            <button id="loginBtn" class="btn">Login</button>
            <button id="resetPasswordBtn" class="btn ghost">Forgot Password?</button>
          </div>

          <div id="memberArea" style="margin-top:16px;display:none">
            <div class="member-preview">
              <div id="memberName" style="font-weight:700"></div>
              <div id="memberBalance" style="margin-top:6px;color:#333"></div>

              <div class="small-row" style="margin-top:10px">
                <button id="goDashboardBtn" class="btn ghost" onclick="goDashboard()">Open Dashboard</button>
                <button id="downloadStatementBtn" class="btn" onclick="downloadStatement()">Download Statement (CSV)</button>
                <button id="signOutBtn" class="btn ghost" onclick="signOutUser()">Sign out</button>
              </div>
            </div>
          </div>

          <p id="loginStatus" class="small-note" style="margin-top:12px;color:#666"></p>
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" data-aos="fade-up">
      <h2>Testimonials</h2>
      <div class="grid grid-3">
        <div class="testimonial"><p>“Affordable loan helped me kickstart my small project.”</p><strong>- Joy</strong></div>
        <div class="testimonial"><p>“Savings plan paid for my course fees.”</p><strong>- Shadrack</strong></div>
        <div class="testimonial"><p>“Mentorship sessions changed my business outlook.”</p><strong>- Francis</strong></div>
      </div>
    </section>

    <!-- Gallery -->
    <section id="gallery" data-aos="fade-up">
      <h2>Gallery</h2>
      <div class="grid grid-3 gallery">
        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=800&auto=format&fit=crop" alt="workshop">
        <img src="https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=800&auto=format&fit=crop" alt="training">
        <img src="https://images.unsplash.com/photo-1532619187608-e5375cab36aa?q=80&w=800&auto=format&fit=crop" alt="community">
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" data-aos="fade-up">
      <h2>Contact Us</h2>
      <div class="grid grid-3">
        <div class="card"><i class="fas fa-map-marker-alt"></i><h3>Location</h3><p class="muted">Nairobi, Kenya</p></div>
        <div class="card"><i class="fas fa-envelope"></i><h3>Email</h3><p class="muted">visionaryyouthgroup32@gmail.com</p></div>
        <div class="card"><i class="fas fa-phone"></i><h3>Phone</h3><p class="muted">+254 741 453336</p></div>
      </div>

      <iframe loading="lazy" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.858787143972!2d36.82194631475346!3d-1.292065035999988!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f173fd1f12345%3A0xabcdef1234567890!2sNairobi%2C%20Kenya!5e0!3m2!1sen!2ske!4v1694103256789!5m2!1sen!2ske" style="width:100%;height:300px;border:0;margin-top:14px;border-radius:8px"></iframe>
    </section>

  </main>

  <footer>
    <div>© 2024 Visionary Youth Group — All rights reserved.</div>
    <div style="margin-top:8px"><a href="#">Privacy</a> | <a href="#">Terms</a></div>
  </footer>

  <!-- Firebase + App logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import {
      getAuth, createUserWithEmailAndPassword,
      signInWithEmailAndPassword, sendPasswordResetEmail,
      onAuthStateChanged, signOut
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import {
      getFirestore, setDoc, doc, serverTimestamp, getDoc,
      collection, getDocs, query, orderBy
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA_OCu7HQ5HCH2OYx5dQ2Z1r7YPwQJave4",
      authDomain: "visionary-youth-grou-2024.firebaseapp.com",
      projectId: "visionary-youth-grou-2024",
      storageBucket: "visionary-youth-grou-2024.appspot.com",
      messagingSenderId: "372978592717",
      appId: "1:372978592717:web:1c15aec728ee5f854f3284",
      measurementId: "G-QP1RBT2ZCP"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Elements
    const signupBtn = document.getElementById('signupBtn');
    const loginBtn = document.getElementById('loginBtn');
    const resetBtn = document.getElementById('resetPasswordBtn');
    const loginStatus = document.getElementById('loginStatus');
    const memberArea = document.getElementById('memberArea');
    const memberNameEl = document.getElementById('memberName');
    const memberBalanceEl = document.getElementById('memberBalance');

    // DEMO autofill
    window.fillDemoSignup = () => {
      document.getElementById('signupName').value = "Test User";
      document.getElementById('signupPhone').value = "+254700000000";
      document.getElementById('signupId').value = "12345678";
      document.getElementById('signupOrigin').value = "Nairobi";
      document.getElementById('signupEmail').value = `test${Date.now()%1000}@mail.com`;
      document.getElementById('signupPassword').value = "Password123!";
    };

    // SIGNUP
    signupBtn.addEventListener('click', async () => {
      const name = document.getElementById('signupName').value.trim();
      const phone = document.getElementById('signupPhone').value.trim();
      const id = document.getElementById('signupId').value.trim();
      const origin = document.getElementById('signupOrigin').value.trim();
      const email = document.getElementById('signupEmail').value.trim();
      const password = document.getElementById('signupPassword').value;
      if (!name || !phone || !id || !email || !password) return alert("Fill all signup fields");

      try {
        const userCred = await createUserWithEmailAndPassword(auth, email, password);
        await setDoc(doc(db, "members", userCred.user.uid), {
          name, phone, id, origin, email, balance: 0, createdAt: serverTimestamp()
        });
        alert("Signup successful! Redirecting...");
        window.location.href = "dashboard.html";
      } catch (err) {
        alert("Error: " + err.message);
      }
    });

    // LOGIN
    loginBtn.addEventListener('click', async () => {
      const email = document.getElementById('loginEmail').value.trim();
      const password = document.getElementById('loginPassword').value;
      if (!email || !password) return alert("Enter email and password");

      try {
        await signInWithEmailAndPassword(auth, email, password);
        loginStatus.textContent = "Login successful. Redirecting...";
        setTimeout(() => { window.location.href = "dashboard.html"; }, 800);
      } catch (err) {
        loginStatus.textContent = "Login failed: " + err.message;
      }
    });

    // RESET PASSWORD
    resetBtn.addEventListener('click', async () => {
      const email = document.getElementById('loginEmail').value.trim();
      if (!email) return alert("Enter your email first");
      try {
        await sendPasswordResetEmail(auth, email);
        alert("Password reset email sent!");
      } catch (err) {
        alert("Error: " + err.message);
      }
    });

    // AUTH STATE
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        const snap = await getDoc(doc(db, "members", user.uid));
        const data = snap.exists() ? snap.data() : {};
        memberArea.style.display = 'block';
        memberNameEl.textContent = data?.name || user.email;
        memberBalanceEl.textContent = `Balance: Ksh ${data?.balance ?? 0}`;
      } else {
        memberArea.style.display = 'none';
      }
    });

    // SIGN OUT
    window.signOutUser = async () => {
      try {
        await signOut(auth);
        alert("Signed out");
        location.hash = "#auth";
      } catch (err) {
        alert("Error signing out: " + err.message);
      }
    };

    // GO DASHBOARD
    window.goDashboard = () => {
      if (!auth.currentUser) {
        alert("Login first");
        location.hash = "#auth";
        return;
      }
      window.location.href = "dashboard.html";
    };

    // COPY PAYBILL
    window.copyPaybill = async () => {
      const text = "Paybill: 247247 ; Account: 1290186343975";
      try {
        await navigator.clipboard.writeText(text);
        alert("Copied: " + text);
      } catch {
        alert(text);
      }
    };

    // DOWNLOAD STATEMENT
    window.downloadStatement = async () => {
      const user = auth.currentUser;
      if (!user) return alert("Login first");
      try {
        const q = query(collection(doc(db, "members", user.uid), "transactions"), orderBy("date", "asc"));
        const snap = await getDocs(q);
        let rows = [["Date","Description","Debit","Credit","Balance"]];
        snap.forEach(d => {
          const data = d.data();
          rows.push([
            data.date?.toDate ? data.date.toDate().toISOString().slice(0,10) : "",
            data.description || "",
            data.debit ?? 0,
            data.credit ?? 0,
            data.balance ?? ""
          ]);
        });
        if (rows.length === 1) rows.push(["2024-01-01","Opening Balance",0,0,1000]);
        const csv = rows.map(r => r.join(",")).join("\n");
        const url = URL.createObjectURL(new Blob([csv], {type:"text/csv"}));
        const a = document.createElement("a");
        a.href = url; a.download = "statement.csv"; a.click();
        URL.revokeObjectURL(url);
      } catch (err) {
        alert("Failed: " + err.message);
      }
    };
  </script>

  <!-- AOS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script>AOS.init({duration:1200,once:true});</script>
</body>
</html>

